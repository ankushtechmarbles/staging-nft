import{r as m,u as x,j as k,F as v,a as n,B as E}from"./index.c3f8b9a9.js";let i={positionX:262.5,positionY:49};const L=[{color:[239,50,145,255],positions:{positionX:208,positionY:3.08}},{color:[73,194,255,255],positions:{positionX:51,positionY:62}},{color:[0,229,153,255],positions:{positionX:36,positionY:101.7}},{color:[220,69,55,255],positions:{positionX:288,positionY:4}},{color:[243,186,47,255],positions:{positionX:261,positionY:45}}],X=({color:o})=>n("svg",{width:"28",height:"32",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n("path",{d:"M13.2021 7.02176C13.1282 7.02176 13.0544 7.05339 12.9806 7.05339C11.7108 7.21141 10.3819 7.51147 9.05302 7.93805C9.98326 7.3377 10.943 6.80059 11.9766 6.35825C12.9511 5.94753 12.5671 4.24136 11.5336 4.62042C9.77647 5.25228 8.07847 5.99482 6.36569 6.73732C8.09324 5.55247 9.87985 4.49401 11.7698 3.59353C12.6262 3.18281 12.0061 1.57139 11.1201 1.9506C9.62884 2.59834 8.13751 3.24609 6.66097 3.89372C7.56166 3.11959 8.47709 2.34555 9.36304 1.5398C10.0127 0.955303 9.31875 -0.229542 8.55091 0.0390224C5.73072 1.01847 3.07295 2.39294 0.429944 3.79893C-0.544599 4.32026 0.311807 5.86843 1.27162 5.3471C2.1133 4.90476 2.94014 4.46244 3.78172 4.05161C2.82191 4.84174 1.89174 5.61575 0.946759 6.37414C0.267498 6.92712 0.636633 8.44364 1.59646 8.01706C1.72933 7.95392 1.87703 7.89067 2.00989 7.84328C1.47834 8.26985 0.961498 8.7122 0.444788 9.17028C-0.219628 9.75478 0.503805 10.9239 1.25691 10.6711C2.1576 10.3709 3.02873 10.0549 3.91468 9.69161C3.23542 10.2761 2.57101 10.8765 1.89185 11.4926C1.16832 12.1561 2.11329 13.4515 2.91069 12.8986C4.15096 12.0613 5.64229 11.2398 7.20742 10.5605C6.46915 11.1609 5.76044 11.8085 5.05162 12.4879C4.25434 13.262 5.43549 14.5416 6.23288 13.7517C8.37383 11.6506 10.6773 9.89704 13.4089 8.79119C14.2356 8.45937 14.2208 6.9112 13.202 7.02173L13.2021 7.02176Z",fill:o})}),h=o=>"rgba("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")",y=({changeMaterialColor:o})=>{const t=m.exports.useRef(),c=m.exports.useRef(!1),{paintBrush:f}=x(),s=new Image(300,150);s.src="/creator/svgs/color_picker.svg";const C=()=>{const e=t.current.getContext("2d",{willReadFrequently:!0});p(e),e.drawImage(s,0,0,300,150),e.beginPath(),e.arc(i.positionX,i.positionY,4,0,2*Math.PI,!1),e.lineWidth=1,e.strokeStyle="#000",e.stroke()},p=e=>{e.clearRect(0,0,t.current.clientWidth,t.current.clientHeight)};m.exports.useEffect(()=>{const e=t.current.getContext("2d",{willReadFrequently:!0});s.onload=()=>e.drawImage(s,0,0,300,150);const a=r=>{p(e),e.drawImage(s,0,0,300,150),i={positionX:r.offsetX/t.current.clientWidth*t.current.width,positionY:r.offsetY/t.current.clientHeight*t.current.height};const d=e.getImageData(i.positionX,i.positionY,1,1).data;o([d[0],d[1],d[2],d[3]]),C()};function u(r){c.current||a(r),c.current=!0}function l(r){c.current&&a(r)}function g(){c.current=!1}return t.current.addEventListener("mousedown",u),t.current.addEventListener("mousemove",l),t.current.addEventListener("touchstart",u),t.current.addEventListener("touchmove",l),t.current.addEventListener("mouseup",g),()=>{t.current&&(p(e),t.current.removeEventListener("mousedown",u),t.current.removeEventListener("mousemove",l),t.current.removeEventListener("touchstart",u),t.current.removeEventListener("touchmove",l),t.current.removeEventListener("mouseup",g))}},[]);const w=(e,a)=>{o(e),i=a,C()};return k(v,{justifyContent:"center",alignItems:"center",flexDir:"column",gap:4,paddingY:4,paddingX:5,overflow:"hidden",height:"100%",children:[n(v,{gap:4,marginBottom:1,children:L.map(e=>n(E,{onClick:()=>w(e.color,e.positions),padding:0,margin:0,background:"transparent",minW:"1rem",children:n(X,{color:h(e.color)})},e.color))}),n("canvas",{style:{display:"block",height:"100%",width:"100%"},ref:t}),n("div",{style:{background:h(f.colorRGB)},className:"colorPickerBar"})]})};export{y as default};
